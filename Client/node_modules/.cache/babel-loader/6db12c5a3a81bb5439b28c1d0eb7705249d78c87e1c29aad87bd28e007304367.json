{"ast":null,"code":"import privateProps from './privateProps.js';\nimport { clickConfirm } from './staticMethods/dom.js';\nimport { DismissReason } from './utils/DismissReason.js';\nimport * as dom from './utils/dom/index.js';\nimport { callIfFunction } from './utils/utils.js';\n\n/**\n * @param {GlobalState} globalState\n */\nexport const removeKeydownHandler = globalState => {\n  if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n    globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = false;\n  }\n};\n\n/**\n * @param {SweetAlert2} instance\n * @param {GlobalState} globalState\n * @param {SweetAlertOptions} innerParams\n * @param {*} dismissWith\n */\nexport const addKeydownHandler = (instance, globalState, innerParams, dismissWith) => {\n  removeKeydownHandler(globalState);\n  if (!innerParams.toast) {\n    globalState.keydownHandler = e => keydownHandler(instance, e, dismissWith);\n    globalState.keydownTarget = innerParams.keydownListenerCapture ? window : dom.getPopup();\n    globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n    globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = true;\n  }\n};\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {number} index\n * @param {number} increment\n */\nexport const setFocus = (innerParams, index, increment) => {\n  const focusableElements = dom.getFocusableElements();\n  // search for visible elements and select the next possible match\n  if (focusableElements.length) {\n    index = index + increment;\n\n    // rollover to first item\n    if (index === focusableElements.length) {\n      index = 0;\n\n      // go to last item\n    } else if (index === -1) {\n      index = focusableElements.length - 1;\n    }\n    focusableElements[index].focus();\n    return;\n  }\n  // no visible focusable elements, focus the popup\n  dom.getPopup().focus();\n};\nconst arrowKeysNextButton = ['ArrowRight', 'ArrowDown'];\nconst arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp'];\n\n/**\n * @param {SweetAlert2} instance\n * @param {KeyboardEvent} e\n * @param {Function} dismissWith\n */\nconst keydownHandler = (instance, e, dismissWith) => {\n  const innerParams = privateProps.innerParams.get(instance);\n  if (!innerParams) {\n    return; // This instance has already been destroyed\n  }\n\n  // Ignore keydown during IME composition\n  // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n  // https://github.com/sweetalert2/sweetalert2/issues/720\n  // https://github.com/sweetalert2/sweetalert2/issues/2406\n  if (e.isComposing || e.keyCode === 229) {\n    return;\n  }\n  if (innerParams.stopKeydownPropagation) {\n    e.stopPropagation();\n  }\n\n  // ENTER\n  if (e.key === 'Enter') {\n    handleEnter(instance, e, innerParams);\n  }\n\n  // TAB\n  else if (e.key === 'Tab') {\n    handleTab(e, innerParams);\n  }\n\n  // ARROWS - switch focus between buttons\n  else if ([...arrowKeysNextButton, ...arrowKeysPreviousButton].includes(e.key)) {\n    handleArrows(e.key);\n  }\n\n  // ESC\n  else if (e.key === 'Escape') {\n    handleEsc(e, innerParams, dismissWith);\n  }\n};\n\n/**\n * @param {SweetAlert2} instance\n * @param {KeyboardEvent} e\n * @param {SweetAlertOptions} innerParams\n */\nconst handleEnter = (instance, e, innerParams) => {\n  // https://github.com/sweetalert2/sweetalert2/issues/2386\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    return;\n  }\n  if (e.target && instance.getInput() && e.target instanceof HTMLElement && e.target.outerHTML === instance.getInput().outerHTML) {\n    if (['textarea', 'file'].includes(innerParams.input)) {\n      return; // do not submit\n    }\n\n    clickConfirm();\n    e.preventDefault();\n  }\n};\n\n/**\n * @param {KeyboardEvent} e\n * @param {SweetAlertOptions} innerParams\n */\nconst handleTab = (e, innerParams) => {\n  const targetElement = e.target;\n  const focusableElements = dom.getFocusableElements();\n  let btnIndex = -1;\n  for (let i = 0; i < focusableElements.length; i++) {\n    if (targetElement === focusableElements[i]) {\n      btnIndex = i;\n      break;\n    }\n  }\n\n  // Cycle to the next button\n  if (!e.shiftKey) {\n    setFocus(innerParams, btnIndex, 1);\n  }\n\n  // Cycle to the prev button\n  else {\n    setFocus(innerParams, btnIndex, -1);\n  }\n  e.stopPropagation();\n  e.preventDefault();\n};\n\n/**\n * @param {string} key\n */\nconst handleArrows = key => {\n  const confirmButton = dom.getConfirmButton();\n  const denyButton = dom.getDenyButton();\n  const cancelButton = dom.getCancelButton();\n  if (document.activeElement instanceof HTMLElement && ![confirmButton, denyButton, cancelButton].includes(document.activeElement)) {\n    return;\n  }\n  const sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling';\n  let buttonToFocus = document.activeElement;\n  for (let i = 0; i < dom.getActions().children.length; i++) {\n    buttonToFocus = buttonToFocus[sibling];\n    if (!buttonToFocus) {\n      return;\n    }\n    if (buttonToFocus instanceof HTMLButtonElement && dom.isVisible(buttonToFocus)) {\n      break;\n    }\n  }\n  if (buttonToFocus instanceof HTMLButtonElement) {\n    buttonToFocus.focus();\n  }\n};\n\n/**\n * @param {KeyboardEvent} e\n * @param {SweetAlertOptions} innerParams\n * @param {Function} dismissWith\n */\nconst handleEsc = (e, innerParams, dismissWith) => {\n  if (callIfFunction(innerParams.allowEscapeKey)) {\n    e.preventDefault();\n    dismissWith(DismissReason.esc);\n  }\n};","map":{"version":3,"names":["privateProps","clickConfirm","DismissReason","dom","callIfFunction","removeKeydownHandler","globalState","keydownTarget","keydownHandlerAdded","removeEventListener","keydownHandler","capture","keydownListenerCapture","addKeydownHandler","instance","innerParams","dismissWith","toast","e","window","getPopup","addEventListener","setFocus","index","increment","focusableElements","getFocusableElements","length","focus","arrowKeysNextButton","arrowKeysPreviousButton","get","isComposing","keyCode","stopKeydownPropagation","stopPropagation","key","handleEnter","handleTab","includes","handleArrows","handleEsc","allowEnterKey","target","getInput","HTMLElement","outerHTML","input","preventDefault","targetElement","btnIndex","i","shiftKey","confirmButton","getConfirmButton","denyButton","getDenyButton","cancelButton","getCancelButton","document","activeElement","sibling","buttonToFocus","getActions","children","HTMLButtonElement","isVisible","allowEscapeKey","esc"],"sources":["D:/Documents/ProgramminStudio/Client/barbieme/node_modules/sweetalert2/src/keydown-handler.js"],"sourcesContent":["import privateProps from './privateProps.js'\nimport { clickConfirm } from './staticMethods/dom.js'\nimport { DismissReason } from './utils/DismissReason.js'\nimport * as dom from './utils/dom/index.js'\nimport { callIfFunction } from './utils/utils.js'\n\n/**\n * @param {GlobalState} globalState\n */\nexport const removeKeydownHandler = (globalState) => {\n  if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n    globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture,\n    })\n    globalState.keydownHandlerAdded = false\n  }\n}\n\n/**\n * @param {SweetAlert2} instance\n * @param {GlobalState} globalState\n * @param {SweetAlertOptions} innerParams\n * @param {*} dismissWith\n */\nexport const addKeydownHandler = (instance, globalState, innerParams, dismissWith) => {\n  removeKeydownHandler(globalState)\n  if (!innerParams.toast) {\n    globalState.keydownHandler = (e) => keydownHandler(instance, e, dismissWith)\n    globalState.keydownTarget = innerParams.keydownListenerCapture ? window : dom.getPopup()\n    globalState.keydownListenerCapture = innerParams.keydownListenerCapture\n    globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture,\n    })\n    globalState.keydownHandlerAdded = true\n  }\n}\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {number} index\n * @param {number} increment\n */\nexport const setFocus = (innerParams, index, increment) => {\n  const focusableElements = dom.getFocusableElements()\n  // search for visible elements and select the next possible match\n  if (focusableElements.length) {\n    index = index + increment\n\n    // rollover to first item\n    if (index === focusableElements.length) {\n      index = 0\n\n      // go to last item\n    } else if (index === -1) {\n      index = focusableElements.length - 1\n    }\n\n    focusableElements[index].focus()\n    return\n  }\n  // no visible focusable elements, focus the popup\n  dom.getPopup().focus()\n}\n\nconst arrowKeysNextButton = ['ArrowRight', 'ArrowDown']\n\nconst arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp']\n\n/**\n * @param {SweetAlert2} instance\n * @param {KeyboardEvent} e\n * @param {Function} dismissWith\n */\nconst keydownHandler = (instance, e, dismissWith) => {\n  const innerParams = privateProps.innerParams.get(instance)\n\n  if (!innerParams) {\n    return // This instance has already been destroyed\n  }\n\n  // Ignore keydown during IME composition\n  // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n  // https://github.com/sweetalert2/sweetalert2/issues/720\n  // https://github.com/sweetalert2/sweetalert2/issues/2406\n  if (e.isComposing || e.keyCode === 229) {\n    return\n  }\n\n  if (innerParams.stopKeydownPropagation) {\n    e.stopPropagation()\n  }\n\n  // ENTER\n  if (e.key === 'Enter') {\n    handleEnter(instance, e, innerParams)\n  }\n\n  // TAB\n  else if (e.key === 'Tab') {\n    handleTab(e, innerParams)\n  }\n\n  // ARROWS - switch focus between buttons\n  else if ([...arrowKeysNextButton, ...arrowKeysPreviousButton].includes(e.key)) {\n    handleArrows(e.key)\n  }\n\n  // ESC\n  else if (e.key === 'Escape') {\n    handleEsc(e, innerParams, dismissWith)\n  }\n}\n\n/**\n * @param {SweetAlert2} instance\n * @param {KeyboardEvent} e\n * @param {SweetAlertOptions} innerParams\n */\nconst handleEnter = (instance, e, innerParams) => {\n  // https://github.com/sweetalert2/sweetalert2/issues/2386\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    return\n  }\n\n  if (\n    e.target &&\n    instance.getInput() &&\n    e.target instanceof HTMLElement &&\n    e.target.outerHTML === instance.getInput().outerHTML\n  ) {\n    if (['textarea', 'file'].includes(innerParams.input)) {\n      return // do not submit\n    }\n\n    clickConfirm()\n    e.preventDefault()\n  }\n}\n\n/**\n * @param {KeyboardEvent} e\n * @param {SweetAlertOptions} innerParams\n */\nconst handleTab = (e, innerParams) => {\n  const targetElement = e.target\n\n  const focusableElements = dom.getFocusableElements()\n  let btnIndex = -1\n  for (let i = 0; i < focusableElements.length; i++) {\n    if (targetElement === focusableElements[i]) {\n      btnIndex = i\n      break\n    }\n  }\n\n  // Cycle to the next button\n  if (!e.shiftKey) {\n    setFocus(innerParams, btnIndex, 1)\n  }\n\n  // Cycle to the prev button\n  else {\n    setFocus(innerParams, btnIndex, -1)\n  }\n\n  e.stopPropagation()\n  e.preventDefault()\n}\n\n/**\n * @param {string} key\n */\nconst handleArrows = (key) => {\n  const confirmButton = dom.getConfirmButton()\n  const denyButton = dom.getDenyButton()\n  const cancelButton = dom.getCancelButton()\n  if (\n    document.activeElement instanceof HTMLElement &&\n    ![confirmButton, denyButton, cancelButton].includes(document.activeElement)\n  ) {\n    return\n  }\n  const sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling'\n  let buttonToFocus = document.activeElement\n  for (let i = 0; i < dom.getActions().children.length; i++) {\n    buttonToFocus = buttonToFocus[sibling]\n    if (!buttonToFocus) {\n      return\n    }\n    if (buttonToFocus instanceof HTMLButtonElement && dom.isVisible(buttonToFocus)) {\n      break\n    }\n  }\n  if (buttonToFocus instanceof HTMLButtonElement) {\n    buttonToFocus.focus()\n  }\n}\n\n/**\n * @param {KeyboardEvent} e\n * @param {SweetAlertOptions} innerParams\n * @param {Function} dismissWith\n */\nconst handleEsc = (e, innerParams, dismissWith) => {\n  if (callIfFunction(innerParams.allowEscapeKey)) {\n    e.preventDefault()\n    dismissWith(DismissReason.esc)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}