{"ast":null,"code":"import globalState, { restoreActiveElement } from '../globalState.js';\nimport { removeKeydownHandler } from '../keydown-handler.js';\nimport privateMethods from '../privateMethods.js';\nimport privateProps from '../privateProps.js';\nimport { unsetAriaHidden } from '../utils/aria.js';\nimport { swalClasses } from '../utils/classes.js';\nimport * as dom from '../utils/dom/index.js';\nimport { undoIOSfix } from '../utils/iosFix.js';\nimport { undoScrollbar } from '../utils/scrollbarFix.js';\n\n/*\n * Instance method to close sweetAlert\n */\n\nfunction removePopupAndResetState(instance, container, returnFocus, didClose) {\n  if (dom.isToast()) {\n    triggerDidCloseAndDispose(instance, didClose);\n  } else {\n    restoreActiveElement(returnFocus).then(() => triggerDidCloseAndDispose(instance, didClose));\n    removeKeydownHandler(globalState);\n  }\n  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  // workaround for #2088\n  // for some reason removing the container in Safari will scroll the document to bottom\n  if (isSafari) {\n    container.setAttribute('style', 'display:none !important');\n    container.removeAttribute('class');\n    container.innerHTML = '';\n  } else {\n    container.remove();\n  }\n  if (dom.isModal()) {\n    undoScrollbar();\n    undoIOSfix();\n    unsetAriaHidden();\n  }\n  removeBodyClasses();\n}\nfunction removeBodyClasses() {\n  dom.removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n}\nexport function close(resolveValue) {\n  resolveValue = prepareResolveValue(resolveValue);\n  const swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n  const didClose = triggerClosePopup(this);\n  if (this.isAwaitingPromise()) {\n    // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n    if (!resolveValue.isDismissed) {\n      handleAwaitingPromise(this);\n      swalPromiseResolve(resolveValue);\n    }\n  } else if (didClose) {\n    // Resolve Swal promise\n    swalPromiseResolve(resolveValue);\n  }\n}\nexport function isAwaitingPromise() {\n  return !!privateProps.awaitingPromise.get(this);\n}\nconst triggerClosePopup = instance => {\n  const popup = dom.getPopup();\n  if (!popup) {\n    return false;\n  }\n  const innerParams = privateProps.innerParams.get(instance);\n  if (!innerParams || dom.hasClass(popup, innerParams.hideClass.popup)) {\n    return false;\n  }\n  dom.removeClass(popup, innerParams.showClass.popup);\n  dom.addClass(popup, innerParams.hideClass.popup);\n  const backdrop = dom.getContainer();\n  dom.removeClass(backdrop, innerParams.showClass.backdrop);\n  dom.addClass(backdrop, innerParams.hideClass.backdrop);\n  handlePopupAnimation(instance, popup, innerParams);\n  return true;\n};\nexport function rejectPromise(error) {\n  const rejectPromise = privateMethods.swalPromiseReject.get(this);\n  handleAwaitingPromise(this);\n  if (rejectPromise) {\n    // Reject Swal promise\n    rejectPromise(error);\n  }\n}\nexport const handleAwaitingPromise = instance => {\n  if (instance.isAwaitingPromise()) {\n    privateProps.awaitingPromise.delete(instance);\n    // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n    if (!privateProps.innerParams.get(instance)) {\n      instance._destroy();\n    }\n  }\n};\nconst prepareResolveValue = resolveValue => {\n  // When user calls Swal.close()\n  if (typeof resolveValue === 'undefined') {\n    return {\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: true\n    };\n  }\n  return Object.assign({\n    isConfirmed: false,\n    isDenied: false,\n    isDismissed: false\n  }, resolveValue);\n};\nconst handlePopupAnimation = (instance, popup, innerParams) => {\n  const container = dom.getContainer();\n  // If animation is supported, animate\n  const animationIsSupported = dom.animationEndEvent && dom.hasCssAnimation(popup);\n  if (typeof innerParams.willClose === 'function') {\n    innerParams.willClose(popup);\n  }\n  if (animationIsSupported) {\n    animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose);\n  } else {\n    // Otherwise, remove immediately\n    removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose);\n  }\n};\nconst animatePopup = (instance, popup, container, returnFocus, didClose) => {\n  globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n  popup.addEventListener(dom.animationEndEvent, function (e) {\n    if (e.target === popup) {\n      globalState.swalCloseEventFinishedCallback();\n      delete globalState.swalCloseEventFinishedCallback;\n    }\n  });\n};\nconst triggerDidCloseAndDispose = (instance, didClose) => {\n  setTimeout(() => {\n    if (typeof didClose === 'function') {\n      didClose.bind(instance.params)();\n    }\n    instance._destroy();\n  });\n};\nexport { close as closePopup, close as closeModal, close as closeToast };","map":{"version":3,"names":["globalState","restoreActiveElement","removeKeydownHandler","privateMethods","privateProps","unsetAriaHidden","swalClasses","dom","undoIOSfix","undoScrollbar","removePopupAndResetState","instance","container","returnFocus","didClose","isToast","triggerDidCloseAndDispose","then","isSafari","test","navigator","userAgent","setAttribute","removeAttribute","innerHTML","remove","isModal","removeBodyClasses","removeClass","document","documentElement","body","shown","close","resolveValue","prepareResolveValue","swalPromiseResolve","get","triggerClosePopup","isAwaitingPromise","isDismissed","handleAwaitingPromise","awaitingPromise","popup","getPopup","innerParams","hasClass","hideClass","showClass","addClass","backdrop","getContainer","handlePopupAnimation","rejectPromise","error","swalPromiseReject","delete","_destroy","isConfirmed","isDenied","Object","assign","animationIsSupported","animationEndEvent","hasCssAnimation","willClose","animatePopup","swalCloseEventFinishedCallback","bind","addEventListener","e","target","setTimeout","params","closePopup","closeModal","closeToast"],"sources":["D:/Documents/ProgramminStudio/Client/barbieme/node_modules/sweetalert2/src/instanceMethods/close.js"],"sourcesContent":["import globalState, { restoreActiveElement } from '../globalState.js'\nimport { removeKeydownHandler } from '../keydown-handler.js'\nimport privateMethods from '../privateMethods.js'\nimport privateProps from '../privateProps.js'\nimport { unsetAriaHidden } from '../utils/aria.js'\nimport { swalClasses } from '../utils/classes.js'\nimport * as dom from '../utils/dom/index.js'\nimport { undoIOSfix } from '../utils/iosFix.js'\nimport { undoScrollbar } from '../utils/scrollbarFix.js'\n\n/*\n * Instance method to close sweetAlert\n */\n\nfunction removePopupAndResetState(instance, container, returnFocus, didClose) {\n  if (dom.isToast()) {\n    triggerDidCloseAndDispose(instance, didClose)\n  } else {\n    restoreActiveElement(returnFocus).then(() => triggerDidCloseAndDispose(instance, didClose))\n    removeKeydownHandler(globalState)\n  }\n\n  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n  // workaround for #2088\n  // for some reason removing the container in Safari will scroll the document to bottom\n  if (isSafari) {\n    container.setAttribute('style', 'display:none !important')\n    container.removeAttribute('class')\n    container.innerHTML = ''\n  } else {\n    container.remove()\n  }\n\n  if (dom.isModal()) {\n    undoScrollbar()\n    undoIOSfix()\n    unsetAriaHidden()\n  }\n\n  removeBodyClasses()\n}\n\nfunction removeBodyClasses() {\n  dom.removeClass(\n    [document.documentElement, document.body],\n    [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]\n  )\n}\n\nexport function close(resolveValue) {\n  resolveValue = prepareResolveValue(resolveValue)\n\n  const swalPromiseResolve = privateMethods.swalPromiseResolve.get(this)\n\n  const didClose = triggerClosePopup(this)\n\n  if (this.isAwaitingPromise()) {\n    // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n    if (!resolveValue.isDismissed) {\n      handleAwaitingPromise(this)\n      swalPromiseResolve(resolveValue)\n    }\n  } else if (didClose) {\n    // Resolve Swal promise\n    swalPromiseResolve(resolveValue)\n  }\n}\n\nexport function isAwaitingPromise() {\n  return !!privateProps.awaitingPromise.get(this)\n}\n\nconst triggerClosePopup = (instance) => {\n  const popup = dom.getPopup()\n\n  if (!popup) {\n    return false\n  }\n\n  const innerParams = privateProps.innerParams.get(instance)\n  if (!innerParams || dom.hasClass(popup, innerParams.hideClass.popup)) {\n    return false\n  }\n\n  dom.removeClass(popup, innerParams.showClass.popup)\n  dom.addClass(popup, innerParams.hideClass.popup)\n\n  const backdrop = dom.getContainer()\n  dom.removeClass(backdrop, innerParams.showClass.backdrop)\n  dom.addClass(backdrop, innerParams.hideClass.backdrop)\n\n  handlePopupAnimation(instance, popup, innerParams)\n\n  return true\n}\n\nexport function rejectPromise(error) {\n  const rejectPromise = privateMethods.swalPromiseReject.get(this)\n  handleAwaitingPromise(this)\n  if (rejectPromise) {\n    // Reject Swal promise\n    rejectPromise(error)\n  }\n}\n\nexport const handleAwaitingPromise = (instance) => {\n  if (instance.isAwaitingPromise()) {\n    privateProps.awaitingPromise.delete(instance)\n    // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n    if (!privateProps.innerParams.get(instance)) {\n      instance._destroy()\n    }\n  }\n}\n\nconst prepareResolveValue = (resolveValue) => {\n  // When user calls Swal.close()\n  if (typeof resolveValue === 'undefined') {\n    return {\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: true,\n    }\n  }\n\n  return Object.assign(\n    {\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: false,\n    },\n    resolveValue\n  )\n}\n\nconst handlePopupAnimation = (instance, popup, innerParams) => {\n  const container = dom.getContainer()\n  // If animation is supported, animate\n  const animationIsSupported = dom.animationEndEvent && dom.hasCssAnimation(popup)\n\n  if (typeof innerParams.willClose === 'function') {\n    innerParams.willClose(popup)\n  }\n\n  if (animationIsSupported) {\n    animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose)\n  } else {\n    // Otherwise, remove immediately\n    removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose)\n  }\n}\n\nconst animatePopup = (instance, popup, container, returnFocus, didClose) => {\n  globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(\n    null,\n    instance,\n    container,\n    returnFocus,\n    didClose\n  )\n  popup.addEventListener(dom.animationEndEvent, function (e) {\n    if (e.target === popup) {\n      globalState.swalCloseEventFinishedCallback()\n      delete globalState.swalCloseEventFinishedCallback\n    }\n  })\n}\n\nconst triggerDidCloseAndDispose = (instance, didClose) => {\n  setTimeout(() => {\n    if (typeof didClose === 'function') {\n      didClose.bind(instance.params)()\n    }\n    instance._destroy()\n  })\n}\n\nexport { close as closePopup, close as closeModal, close as closeToast }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}